<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="admin">
    <select id="getUserTotal" resultType="int">
        <![CDATA[
        select count(user_no)
        from user
      ]]>
    </select>

    <select id="getRecentUser" resultType="int">
        <![CDATA[
        select count(user_no)
        from user
        where timestampdiff(month,join_date,now())<1
      ]]>
    </select>

    <select id="hotplaceRank" resultType="com.yumpro.ddogo.admin.domain.HotplaceDTO">
        <![CDATA[
        select hotplace_no,sido,gugun,hotplace_name,address,hotplace_cate_no,lat,lng
        from hotplace
        where hotplace_no in (select hotplace_no from mymap where recom='Y' group by hotplace_no order by count(recom) desc)
      ]]>
    </select>
</mapper>