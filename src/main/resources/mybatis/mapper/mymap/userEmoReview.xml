<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.yumpro.ddogo.mymap.mapper.EmoReviewMapper">

    <select id="getReviewByMapNo" parameterType="Integer" resultType="com.yumpro.ddogo.mymap.domain.EmoReviewDTO">
        SELECT r.review_no AS reviewNo, r.review, m.map_memo AS memo, m.recom AS recomm, r.map_no AS mapNo
        FROM emoreview r
        INNER JOIN mymap m ON r.map_no = m.map_no
        WHERE r.map_no = #{mapNo};

    </select>

    <update id="updateEmoReview" parameterType="map">
        <!-- emoreview 테이블의 review 필드 수정 -->
        UPDATE emoreview
        SET review = #{review}
        WHERE reviewNo = #{reviewNo}
    </update>
</mapper>
