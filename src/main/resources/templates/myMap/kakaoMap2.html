<html layout:decorate="~{layout}" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<div layout:fragment="content" > <!-- container-fluid-->
    <head>
        <title>마이맵</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" type="text/css" href="/css/mymapCSS.css">
    </head>
<body>

<!-- 좌측에 맛집 리스트를 표시하는 부분 -->
<section class="box">
    <aside class="box-sidebar" id="listContainer" >
        <h2>맛집 리스트</h2>
        <div class="card my-2" th:each="myhotpl : ${myHotplList}">
            <div class="card-body">
                <h5 class="card-title" th:text="${myhotpl.hotplaceName}"></h5>
                <p class="card-text" th:text="${myhotpl.address}"></p>
                <p class="card-text" th:text="${myhotpl.sido}"></p>
                <p class="card-text" th:text="${myhotpl.gugun}"></p>
                <p class="card-text" th:text="${myhotpl.avgEmoResult}"></p>

                <button class="btn btn-primary">찜하기</button>
            </div>
        </div>
         <!-- 맛집 검색창 -->
        <div class="input-group my-3">
            <input type="text" class="form-control" placeholder="맛집 검색">
            <button class="btn btn-primary" type="button">검색</button>
        </div>
    </aside>


    <section class="box-contents" id="mapContainer">
        여기는 지도출력 영역

        <!-- 지도 사이즈 정하기 -->
        <div id="map"  style="width:100%;height:100%;"></div>
        <div id="MapControlView">
            <button id="gpsButton" onclick="gps_check()"> 내 주변보기</button>
        </div>
    </section>
</section>
<!-----  javascript 영역 --------------->
        <!-- 지도 api 연동 -->
        <script type="text/javascript"
                src="https://dapi.kakao.com/v2/maps/sdk.js?appkey=820d01b1cce59185ed776419691dab39&libraries=services"></script>

        <!--db로 마커값 받아오기 -->
        <script th:inline="javascript">
            /*<![CDATA[*/
            var positions = [
                /*[# th:each="myhotpl : ${myHotplList}"]*/
                {
                    title: /*[[${myhotpl.hotplaceName}]]*/,
                    latlng: new kakao.maps.LatLng(/*[[${myhotpl.lat}]]*/, /*[[${myhotpl.lng}]]*/)
                },
                /*[/]*/
            ];
            /*]]>*/
        </script>


        <!-- mymapAPI.js 파일을 포함 -->
        <script type="text/javascript" src="/js/mymapAPI.js"></script>

    </body>
</div>
</html>